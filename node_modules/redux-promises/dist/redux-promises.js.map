{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 415a2bb12eae67d61263","webpack:///./src/index.js","webpack:///./src/utils/isPromise.js"],"names":[],"mappings":"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","file":"redux-promises.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReduxPromises\"] = factory();\n\telse\n\t\troot[\"ReduxPromises\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 415a2bb12eae67d61263\n **/","import isPromise from './utils/isPromise';\n\nconst SELECT_STATE = (state) => (state.idle);\nconst noop = () => {};\n\n// constants\nconst CHANGE_IDLE_STATE = '@@redux-promises/CHANGE_IDLE_STATE';\n\n// actions\nconst changeIdleState = (state) => ({\n  type: CHANGE_IDLE_STATE,\n  state\n});\n\n// reducers\nconst reducer = (state = true, action) => {\n  switch (action.type) {\n  case CHANGE_IDLE_STATE:\n    return action.state;\n  }\n  return state;\n};\n\nconst createMiddleware = () => {\n  let promises = [];\n\n  const middleware = ({ dispatch, getState }) => {\n    return (next) => (action) => {\n      if (typeof action === 'function') {\n        const maybePromise = action(dispatch, getState);\n        if (isPromise(maybePromise)) {\n          const promise = maybePromise.then(noop, noop);\n          promise.then(() => {\n            promises = promises.filter((p) => (p !== promise));\n            if (promises.length === 0) {\n              dispatch(changeIdleState(true));\n            }\n          });\n          promises.push(promise);\n          dispatch(changeIdleState(false));\n        }\n        return maybePromise;\n      } else {\n        return next(action);\n      }\n    };\n  };\n\n  return middleware;\n};\n\nconst ensureIdleState = (store, selectState = SELECT_STATE) => {\n  const getIdleState = () => selectState(store.getState());\n\n  if (process.env.NODE_ENV !== 'production' && typeof getIdleState() !== 'boolean') {\n    throw new Error('Unable to get idle state, did you install the reducer ' +\n      'and use the correct `selectState`? (default `(state) => (state.idle)`)');\n  }\n\n  if (getIdleState()) {\n    return Promise.resolve();\n  }\n\n  return new Promise((resolve) => {\n    const unsubscribe = store.subscribe(() => {\n      if (getIdleState()) {\n        unsubscribe();\n        resolve();\n      }\n    });\n  });\n};\n\nexport { reducer, createMiddleware, ensureIdleState };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// https://github.com/then/is-promise\nexport default (obj) => {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/isPromise.js\n **/"],"sourceRoot":""}